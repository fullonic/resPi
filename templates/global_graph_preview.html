{% extends "base.html" %}
{% include "navbar.html" %}
{% block body %}
<div class="" id="myDiv">

  {% for plot in plots %}
  {% include plot.path %}
  <div class="m-1">

    <a class="ml-3" type="button"><i data-toggle="popover" data-content='[{{ plot.name }}] Inseriu el nÃºmero del "loop" que voleu ignorar. Separeu-los amb una "coma". ex: 1,5,7,10' data-placement="top" class="fas fa-info-circle"></i>
      <input placeholder="Loops per eliminar" id="{{ plot.name }}" type="text" name="{{ plot.name }}">
      <button onclick="addIgnoreLoop(this.name)" name="{{ plot.name }}" class="btn btn-primary mr-3">Ignorar</button>
  </div>

  {% endfor %}

</div>
<button type="button" onclick="topFunction()" id="myBtn" name="button"><i class="fas fa-chevron-up"></i></button>
{% endblock %}
{% block footer %}
<!-- <div class="container">
  <div class="row">

  </div>
</div>
-->
{% endblock %}

{% block scripts %}
<script type="text/javascript">
  function addIgnoreLoop(file_name) {
    var name = file_name;
    var data = name + ":" + document.getElementById(file_name).value
    console.log({
      data
    });
    $.post("/ignore_loops/" + data);

  }

  //Get the button:
  mybutton = document.getElementById("myBtn");

  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function() {
    scrollFunction()
  };

  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }

  // When the user clicks on the button, scroll to the top of the document
  function topFunction() {
    document.body.scrollTop = 0; // For Safari
    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
  }
</script>{% endblock %}